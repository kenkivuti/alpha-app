<!doctype html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Bootstrap demo</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
</head>

<body>
    <div id="app">
        <table class="table">
            <thead>
 
                    <th scope="col">id</th>
                    <th scope="col">product name</th>
                    <th scope="col">price</th>
                </tr>
            </thead>
            <tbody>
                <tr v-for="prod in prods" :key="prod.id">
                    <td>{{prod.id}}</td>
                    <td>{{prod.name}}</td>
                    <td>{{prod.price}}</td>
                   
</tr>

            </tbody>
        </table>
    </div>

<script src="https://unpkg.com/vue@3/dist/vue.global.js"></script>


<script>
  const { createApp, ref } = Vue

  createApp({
    data() {
      let message = 2;
      let test = 8;
      let t = 0;
      let res = [];
      let values = {};
      let loading = false;
      let prods = null;
      console.log("called on data");
      return {t, test, message, res, loading, prods , values}
    },

    methods: {
         mycalc(){
            this.t = this.message + this.test;
            console.log("called my calc");
            
        },

        myproducts(){
           this.res.push({"id":1,"name":"lema","price":780})
            console.log(this.res);

        },

        fetchproducts(){
            axios.get('http://127.0.0.1:5000/product')
            .then(response => {
                console.log("response from API",response);
              this.prods = response.data;
              this.loading = false;
            })
            .catch(error => {
              console.error('Error fetching data:', error);
              this.loading = false;
            });

        }

    },
    created() {
        console.log("called on created");
        this.mycalc();
        this.myproducts();
        this.fetchproducts();
    }

  }).mount('#app')
</script>
</body>
</html>